<?xml version="1.0" encoding="UTF-8"?>
<web-app version="3.1" xmlns="http://xmlns.jcp.org/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd">
        <!-- Session settings -->
        <session-config>
                <session-timeout>
                        30
                </session-timeout>
        </session-config>
        <!-- DB SETTINGS -->
        <context-param>
                <description>The url of the JDBC persistence system database position</description>
                <param-name>dburl</param-name>
                <param-value>jdbc:mysql://127.0.0.1:3306/mydb</param-value>
        </context-param>
        <context-param>
                <description>The user of the JDBC persistence system database position</description>
                <param-name>dbuser</param-name>
                <param-value>root</param-value>
        </context-param>
        <context-param>
                <description>The password of $dbuser</description>
                <param-name>dbpwd</param-name>
                <param-value>123456</param-value>
        </context-param>
        <!-- SMTP SETTINGS -->
        <context-param>
                <description>Hostname of the SMTP server</description>
                <param-name>smtpHostname</param-name>
                <param-value>smtp.gmail.com</param-value>
        </context-param>
        <context-param>
                <description>Port of the SMTP server</description>
                <param-name>smtpPort</param-name>
                <param-value>465</param-value>
        </context-param>
        <context-param>
                <description>Username of the SMTP server</description>
                <param-name>smtpUsername</param-name>
                <param-value>registrazioneprogettowebprog@gmail.com</param-value>
        </context-param>
        <context-param>
                <description>Password of the SMTP server</description>
                <param-name>smtpPassword</param-name>
                <param-value>xeecaoS5tood3bee</param-value>
        </context-param>
        <!-- quantià di item nelle varie pagine-->
        <context-param>
                <description>quantià categoria per slider</description>
                <param-name>quantityCatForSlider</param-name>
                <param-value>4</param-value>
        </context-param>
        <context-param>
                <description>quantià di item per home</description>
                <param-name>quantityItemForHome</param-name>
                <param-value>12</param-value>
        </context-param>
        <context-param>
                <description>quantià di item per categoria</description>
                <param-name>quantityItemForCategory</param-name>
                <param-value>9</param-value>
        </context-param>
        <context-param>
                <description>quantià di item per la ricerca</description>
                <param-name>quantityItemForSearch</param-name>
                <param-value>9</param-value>
        </context-param>
        <!-- pagina di index -->
        <welcome-file-list>
                <welcome-file>home</welcome-file>
        </welcome-file-list>
        <!-- pagina di errore 
        <error-page>
            <error-code>404</error-code>
            <location>/WEB-INF/jsp/error/404.jsp</location>
        </error-page>
        -->
        <!-- LISTENERS -->
        <listener>
                <description>ServletContextListener</description>
                <listener-class>it.unitn.webprogramming18.dellmm.listeners.WebAppContextListener</listener-class>
        </listener>
        <!-- FILTERS -->
        <filter>
                <filter-name>UnloggedUserOnlyFilter</filter-name>
                <filter-class>it.unitn.webprogramming18.dellmm.filters.UnloggedUserOnlyFilter</filter-class>
        </filter>
        <filter-mapping>
                <filter-name>UnloggedUserOnlyFilter</filter-name>
                <url-pattern>/login</url-pattern>
                <url-pattern>/login.json</url-pattern>
                <url-pattern>/forgotPassword</url-pattern>
                <url-pattern>/forgotPassword.json</url-pattern>
                <url-pattern>/register</url-pattern>
                <url-pattern>/register.json</url-pattern>
                <url-pattern>/resetPassword</url-pattern>
                <url-pattern>/resetPassword.json</url-pattern>
        </filter-mapping>
        <filter>
                <filter-name>FrontPagePrintListFilter</filter-name>
                <filter-class>it.unitn.webprogramming18.dellmm.filters.FrontPagePrintListFilter</filter-class>
        </filter>
        <filter-mapping>
                <filter-name>FrontPagePrintListFilter</filter-name>
                <url-pattern>/home</url-pattern>
                <url-pattern>/category</url-pattern>
                <url-pattern>/search</url-pattern>
                <url-pattern>/updateProduct</url-pattern>
        </filter-mapping>
        <filter>
                <filter-name>LoggedUserOnlyFilter</filter-name>
                <filter-class>it.unitn.webprogramming18.dellmm.filters.LoggedUserOnlyFilter</filter-class>
        </filter>
        <filter-mapping>
                <filter-name>LoggedUserOnlyFilter</filter-name>
                <url-pattern>/loggedResetPassword</url-pattern>
                <url-pattern>/modifyUser</url-pattern>
                <url-pattern>/resendEmail</url-pattern>
                <url-pattern>/alreadyLoggedIn</url-pattern>
                <url-pattern>/mylists</url-pattern>
                <url-pattern>/mylist</url-pattern>
                <url-pattern>/updateList</url-pattern>
                <url-pattern>/updateProduct</url-pattern>
                <url-pattern>/service/updateItemInListService</url-pattern>
                <url-pattern>/service/updateListService</url-pattern>
                <url-pattern>/service/changeListService</url-pattern>
                <url-pattern>/service/commentService</url-pattern>
                <url-pattern>/service/sharingService</url-pattern>
                <url-pattern>/service/updateListService</url-pattern>
                <url-pattern>/service/updateProductService</url-pattern>
        </filter-mapping>
        <!-- SERVLETS OF PAGE _____________________________________________________________________________ -->
        <servlet>
                <servlet-name>HomeServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.HomeServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>HomeServlet</servlet-name>
                <url-pattern>/home</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>search</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.SearchServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>search</servlet-name>
                <url-pattern>/search</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>CategoryServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.CategoryServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>CategoryServlet</servlet-name>
                <url-pattern>/category</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>DisplayListsServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.DisplayListsServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>DisplayListsServlet</servlet-name>
                <url-pattern>/mylists</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>DisplaySpecificListServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.DisplaySpecificListServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>DisplaySpecificListServlet</servlet-name>
                <url-pattern>/mylist</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>UpdateListServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.UpdateListServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>UpdateListServlet</servlet-name>
                <url-pattern>/updateList</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>UpdateProductServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.UpdateProductServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>UpdateProductServlet</servlet-name>
                <url-pattern>/updateProduct</url-pattern>
        </servlet-mapping>
        <!-- SERVLETS OF SERVICE _____________________________________________________________________________ -->
        <servlet>
                <servlet-name>UpdateItemInListService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.service.UpdateItemInListService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>UpdateItemInListService</servlet-name>
                <url-pattern>/service/updateItemInListService</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>UpdateItemInListUnloggedUserOnlyService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.service.UpdateItemInListUnloggedUserOnlyService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>UpdateItemInListUnloggedUserOnlyService</servlet-name>
                <url-pattern>/service/updateItemInListUnloggedUserOnlyService</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>ChangeListService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.service.ChangeListService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>ChangeListService</servlet-name>
                <url-pattern>/service/changeListService</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>CommentService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.service.CommentService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>CommentService</servlet-name>
                <url-pattern>/service/commentService</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>SharingService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.service.SharingService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>SharingService</servlet-name>
                <url-pattern>/service/sharingService</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>UpdateListService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.service.UpdateListService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>UpdateListService</servlet-name>
                <url-pattern>/service/updateListService</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>UpdateProductService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.front.service.UpdateProductService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>UpdateProductService</servlet-name>
                <url-pattern>/service/updateProductService</url-pattern>
        </servlet-mapping>
        
              <servlet>
                <servlet-name>CheckExistenceOfEmailService</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.service.CheckExistenceOfEmailService</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>CheckExistenceOfEmailService</servlet-name>
                <url-pattern>/service/checkExistenceOfEmailService</url-pattern>
        </servlet-mapping>
        
        
        
        
        
        
        <!-- USER SYSTEM SERVLETS -->
        <servlet>
                <servlet-name>LoginServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.LoginServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>LoginServlet</servlet-name>
                <url-pattern>/login</url-pattern>
        </servlet-mapping>
        <servlet-mapping>
                <servlet-name>LoginServlet</servlet-name>
                <url-pattern>/login.json</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>LogoutServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.LogoutServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>LogoutServlet</servlet-name>
                <url-pattern>/logout</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>RegisterServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.RegisterServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>RegisterServlet</servlet-name>
                <url-pattern>/register</url-pattern>
        </servlet-mapping>
        <servlet-mapping>
                <servlet-name>RegisterServlet</servlet-name>
                <url-pattern>/register.json</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>ResendEmailServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.ResendEmailServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>ResendEmailServlet</servlet-name>
                <url-pattern>/resendEmail</url-pattern>
        </servlet-mapping>
        <servlet>
                <servlet-name>ValidateUserServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.ValidateUserServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>ValidateUserServlet</servlet-name>
                <url-pattern>/validateUser</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>ForgotPasswordServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.ForgotPasswordServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>ForgotPasswordServlet</servlet-name>
                <url-pattern>/forgotPassword</url-pattern>
        </servlet-mapping>
        <servlet-mapping>
                <servlet-name>ForgotPasswordServlet</servlet-name>
                <url-pattern>/forgotPassword.json</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>ResetPasswordServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.ResetPasswordServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>ResetPasswordServlet</servlet-name>
                <url-pattern>/resetPassword</url-pattern>
        </servlet-mapping>
        <servlet-mapping>
                <servlet-name>ResetPasswordServlet</servlet-name>
                <url-pattern>/resetPassword.json</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>ModifyUserServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.ModifyUserServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>ModifyUserServlet</servlet-name>
                <url-pattern>/modifyUser</url-pattern>
        </servlet-mapping>
        <servlet-mapping>
                <servlet-name>ModifyUserServlet</servlet-name>
                <url-pattern>/modifyUser.json</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>LoggedResetPasswordServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.LoggedResetPasswordServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>LoggedResetPasswordServlet</servlet-name>
                <url-pattern>/loggedResetPassword</url-pattern>
        </servlet-mapping>
        <servlet-mapping>
                <servlet-name>LoggedResetPasswordServlet</servlet-name>
                <url-pattern>/loggedResetPassword.json</url-pattern>
        </servlet-mapping>

        <servlet>
                <servlet-name>AlreadyLoggedInServlet</servlet-name>
                <servlet-class>it.unitn.webprogramming18.dellmm.servlets.userSystem.AlreadyLoggedInServlet</servlet-class>
        </servlet>
        <servlet-mapping>
                <servlet-name>AlreadyLoggedInServlet</servlet-name>
                <url-pattern>/alreadyLoggedIn</url-pattern>
        </servlet-mapping>
   


        <servlet>
                <servlet-name>UserValidateJS</servlet-name>
                <jsp-file>/WEB-INF/js/userValidateJS.jsp</jsp-file>
        </servlet>
        <servlet-mapping>
                <servlet-name>UserValidateJS</servlet-name>
                <url-pattern>/js/userValidate.js</url-pattern>
        </servlet-mapping>
    
    
        <!-- ERROR PAGE 
        <error-page>
                <location>/WEB-INF/errorPage.jsp</location>
        </error-page>
        -->
</web-app>
